<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>update_parms: Adjust termination criteria for while loop in IR · MultiPrecisionArrays.jl</title><meta name="title" content="update_parms: Adjust termination criteria for while loop in IR · MultiPrecisionArrays.jl"/><meta property="og:title" content="update_parms: Adjust termination criteria for while loop in IR · MultiPrecisionArrays.jl"/><meta property="twitter:title" content="update_parms: Adjust termination criteria for while loop in IR · MultiPrecisionArrays.jl"/><meta name="description" content="Documentation for MultiPrecisionArrays.jl."/><meta property="og:description" content="Documentation for MultiPrecisionArrays.jl."/><meta property="twitter:description" content="Documentation for MultiPrecisionArrays.jl."/><script data-outdated-warner src="../../assets/warner.js"></script><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.050/juliamono.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.8/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL="../.."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../../assets/documenter.js"></script><script src="../../search_index.js"></script><script src="../../siteinfo.js"></script><script src="../../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/catppuccin-mocha.css" data-theme-name="catppuccin-mocha"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/catppuccin-macchiato.css" data-theme-name="catppuccin-macchiato"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/catppuccin-frappe.css" data-theme-name="catppuccin-frappe"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/catppuccin-latte.css" data-theme-name="catppuccin-latte"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../../assets/themeswap.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><div class="docs-package-name"><span class="docs-autofit"><a href="../../">MultiPrecisionArrays.jl</a></span></div><button class="docs-search-query input is-rounded is-small is-clickable my-2 mx-auto py-1 px-2" id="documenter-search-query">Search docs (Ctrl + /)</button><ul class="docs-menu"><li><a class="tocitem" href="../../">Home</a></li><li><span class="tocitem">Half Precision and Krylov-IR</span><ul><li><a class="tocitem" href="../../Half_1/">Half Precision and Krylov-IR</a></li></ul></li><li><span class="tocitem">More than you want to know</span><ul><li><a class="tocitem" href="../../Details/Termination/">Terminating the while loop</a></li><li><a class="tocitem" href="../../Details/N2Work/">Is O(N^2) work negligible?</a></li><li><a class="tocitem" href="../../Details/Interprecision_1/">Interprecision Transfers: Part I</a></li><li><a class="tocitem" href="../../Details/Extended/">Evaluating residuals in higher precision</a></li></ul></li><li><span class="tocitem">MPArray Constructors</span><ul><li><a class="tocitem" href="../MPArray/">MPArray: constructor</a></li><li><a class="tocitem" href="../MPGArray/">MPGArray: constructor</a></li><li><a class="tocitem" href="../MPBArray/">MPBArray: constructor</a></li></ul></li><li><span class="tocitem">Factorizations</span><ul><li><a class="tocitem" href="../hlu!/">hlu!: Get LU to perform reasonably well for Float16</a></li><li><a class="tocitem" href="../mplu!/">mplu!: Simple MPArray factorization</a></li><li><a class="tocitem" href="../mplu/">mplu: Combine MPArray construction and factorization</a></li><li><a class="tocitem" href="../mpglu!/">mpglu!: Factor a MPGArray and set it up for GMRES by allocating room for Krylov vectors etc</a></li><li><a class="tocitem" href="../mpglu/">mpglu: Combine MPGArray construction and factorization</a></li><li><a class="tocitem" href="../mpblu!/">mpblu!: Factor a MPBArray and set it up for BiCGSTAB by allocating room for a few vectors</a></li><li><a class="tocitem" href="../mpblu/">mpblu: Combine MPBArray construction and factorization</a></li></ul></li><li><span class="tocitem">Iteration Statistics</span><ul><li><a class="tocitem" href="../../Details/Stats/">Harvesting Iteration Statistics</a></li></ul></li><li><span class="tocitem">Solvers</span><ul><li><a class="tocitem" href="../mpgeslir/">mpgeslir: IR solver</a></li><li><a class="tocitem" href="../mpkrir/">mpkrir: Krylov-IR solver</a></li></ul></li><li><span class="tocitem">Termination</span><ul><li class="is-active"><a class="tocitem" href>update_parms: Adjust termination criteria for while loop in IR</a></li></ul></li><li><span class="tocitem">References</span><ul><li><a class="tocitem" href="../../References/">References</a></li></ul></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><a class="docs-sidebar-button docs-navbar-link fa-solid fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a><nav class="breadcrumb"><ul class="is-hidden-mobile"><li><a class="is-disabled">Termination</a></li><li class="is-active"><a href>update_parms: Adjust termination criteria for while loop in IR</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>update_parms: Adjust termination criteria for while loop in IR</a></li></ul></nav><div class="docs-right"><a class="docs-navbar-link" href="https://github.com/ctkelley/MultiPrecisionArrays.jl" title="View the repository on GitHub"><span class="docs-icon fa-brands"></span><span class="docs-label is-hidden-touch">GitHub</span></a><a class="docs-navbar-link" href="https://github.com/ctkelley/MultiPrecisionArrays.jl/blob/main/docs/src/functions/update_parms.md" title="Edit source on GitHub"><span class="docs-icon fa-solid"></span></a><a class="docs-settings-button docs-navbar-link fa-solid fa-gear" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-article-toggle-button fa-solid fa-chevron-up" id="documenter-article-toggle-button" href="javascript:;" title="Collapse all docstrings"></a></div></header><article class="content" id="documenter-page"><h1 id="update_parms:-Adjust-termination-criteria-for-while-loop-in-IR"><a class="docs-heading-anchor" href="#update_parms:-Adjust-termination-criteria-for-while-loop-in-IR">update_parms: Adjust termination criteria for while loop in IR</a><a id="update_parms:-Adjust-termination-criteria-for-while-loop-in-IR-1"></a><a class="docs-heading-anchor-permalink" href="#update_parms:-Adjust-termination-criteria-for-while-loop-in-IR" title="Permalink"></a></h1><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="MultiPrecisionArrays.update_parms" href="#MultiPrecisionArrays.update_parms"><code>MultiPrecisionArrays.update_parms</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">update_parms(t::TERM = term_parms; Cr = 20.0, Ce = 1.0,
       Rmax = 0.5, litmax=1000</code></pre><p>)</p><p>C. T. Kelley, 2025</p><p>Update the termination parameters in MultiPrecisionArrays.</p><p>This changes the values of the parameters. I do not recommend that you mess with this unless you have a good reason. One such reason might be that the default limit on the number of iterations (1000, essentially infinite) is giving you many iterations that make very little progress. Changing Rmax is probably a better way to control this.</p><p>Note that the default values for the kwargs are the defaults, so unless you specify otherwise, any parameter will take its default value.</p><p>We store the parameters in a mutable structure TERM</p><pre><code class="nohighlight hljs">mutable struct TERM
       Cr::Real
       Ce::Real
       Rmax::Real
       litmax::Int
end</code></pre><p>where the fields are the parameters. The parameters we use in  the solvers are in a global TERM structure defined in the main module.</p><pre><code class="nohighlight hljs">term_parms=TERM(20.0, 1.0, .5, 1000)</code></pre><p>As you can see, I start with the defaults. When you make changes, you write into this structure and it is your job to keep track of what you did.</p><p>To query the parameters type the name of the structure</p><pre><code class="nohighlight hljs">julia&gt; term_parms
MultiPrecisionArrays.TERM(2.00000e+01, 1.00000e+00, 5.00000e-01, 1000)</code></pre><p>To change Cr from 20 to 40 type</p><pre><code class="nohighlight hljs">julia&gt; update_parms(; Cr=40.0)
MultiPrecisionArrays.TERM(4.00000e+01, 1.00000e+00, 5.00000e-01, 1000)</code></pre><p>To change Ce to 5 and revert Cr back to the default</p><pre><code class="nohighlight hljs">julia&gt; update_parms(; Ce=5.0)
MultiPrecisionArrays.TERM(2.00000e+01, 5.00000e+00, 5.00000e-01, 1000)</code></pre><p>Finally, to get the defaults back, enter no changes.</p><pre><code class="nohighlight hljs">julia&gt; update_parms(;)
MultiPrecisionArrays.TERM(2.00000e+01, 1.00000e+00, 5.00000e-01, 1000)</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/ctkelley/MultiPrecisionArrays.jl/blob/24d127e7e88d69b968dc1d3d4151a40724dbb1e3/src/Solvers/update_parms.jl#L1-L59">source</a></section></article></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../mpkrir/">« mpkrir: Krylov-IR solver</a><a class="docs-footer-nextpage" href="../../References/">References »</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="auto">Automatic (OS)</option><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option><option value="catppuccin-latte">catppuccin-latte</option><option value="catppuccin-frappe">catppuccin-frappe</option><option value="catppuccin-macchiato">catppuccin-macchiato</option><option value="catppuccin-mocha">catppuccin-mocha</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 1.11.4 on <span class="colophon-date" title="Sunday 18 May 2025 18:31">Sunday 18 May 2025</span>. Using Julia version 1.10.9.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
